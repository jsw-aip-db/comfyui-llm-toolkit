{"id":"566dc4eb-1433-4bfa-989f-bce20207bbde","revision":0,"last_node_id":131,"last_link_id":200,"nodes":[{"id":23,"type":"ResolutionSelector","pos":[-1078.264892578125,126.0516128540039],"size":[301.4302673339844,126],"flags":{},"order":0,"mode":4,"inputs":[{"localized_name":"mode","name":"mode","type":"COMBO","widget":{"name":"mode"},"link":null},{"localized_name":"aspect_ratio","name":"aspect_ratio","type":"COMBO","widget":{"name":"aspect_ratio"},"link":null},{"localized_name":"quality","name":"quality","type":"COMBO","widget":{"name":"quality"},"link":null}],"outputs":[{"localized_name":"width","name":"width","type":"INT","links":[57,61]},{"localized_name":"height","name":"height","type":"INT","links":[58,62]}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"ResolutionSelector"},"widgets_values":["I2V720p","Horizontal","HQ"]},{"id":16,"type":"CheckImageEmpty","pos":[-977.034423828125,606.08447265625],"size":[246.07870483398438,46],"flags":{},"order":21,"mode":4,"inputs":[{"localized_name":"image","name":"image","shape":7,"type":"IMAGE","link":22}],"outputs":[{"localized_name":"is_empty","name":"is_empty","type":"BOOLEAN","links":[30]},{"localized_name":"status_message","name":"status_message","type":"STRING","links":null}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"CheckImageEmpty"},"widgets_values":[]},{"id":17,"type":"LoadImage","pos":[-1435.1241455078125,308.1926574707031],"size":[274.080078125,314],"flags":{},"order":1,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"LoadImage"},"widgets_values":["021f1e377b183ea541ab0d61d7fb3b77.jpg","image"]},{"id":12,"type":"ComfyUIDeployExternalImage","pos":[-1080.6387939453125,312.09539794921875],"size":[309.1890563964844,154],"flags":{},"order":2,"mode":4,"inputs":[{"localized_name":"default_value","name":"default_value","shape":7,"type":"IMAGE","link":null},{"localized_name":"input_id","name":"input_id","type":"STRING","widget":{"name":"input_id"},"link":null},{"localized_name":"display_name","name":"display_name","shape":7,"type":"STRING","widget":{"name":"display_name"},"link":null},{"localized_name":"description","name":"description","shape":7,"type":"STRING","widget":{"name":"description"},"link":null},{"localized_name":"default_value_url","name":"default_value_url","shape":7,"type":"IMAGEPREVIEW","widget":{"name":"default_value_url"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[22,26]}],"properties":{"cnr_id":"comfyui-deploy","ver":"089bad55605392860e59476a4c2765bfc772750b","Node name for S&R":"ComfyUIDeployExternalImage"},"widgets_values":["input_image","","","",""]},{"id":33,"type":"PreviewImageLogic","pos":[-570.2796020507812,126.4210433959961],"size":[249.98202514648438,166],"flags":{},"order":33,"mode":4,"inputs":[{"localized_name":"image","name":"image","shape":7,"type":"IMAGE","link":56},{"localized_name":"save_image","name":"save_image","type":"BOOLEAN","widget":{"name":"save_image"},"link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":57},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":58},{"localized_name":"color","name":"color","type":"COLOR","widget":{"name":"color"},"link":null},{"localized_name":"file_name","name":"file_name","shape":7,"type":"STRING","widget":{"name":"file_name"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[59]}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"PreviewImageLogic"},"widgets_values":[false,1024,1024,"#ff0000","logic_preview"]},{"id":21,"type":"SwitchAnyRoute_wANY","pos":[-971.8822631835938,710.987548828125],"size":[341.0992126464844,78],"flags":{},"order":27,"mode":4,"inputs":[{"localized_name":"input","name":"input","type":"*","link":26},{"localized_name":"selector","name":"selector","type":"BOOLEAN","widget":{"name":"selector"},"link":30}],"outputs":[{"localized_name":"output_true","name":"output_true","type":"*","links":[56]},{"localized_name":"output_false","name":"output_false","type":"*","links":[60,81]}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"SwitchAnyRoute_wANY"},"widgets_values":[true]},{"id":53,"type":"ConfigGenerateSpeech","pos":[128.6888885498047,26.372713088989258],"size":[365.2642517089844,106],"flags":{},"order":26,"mode":0,"inputs":[{"localized_name":"context","name":"context","shape":7,"type":"*","link":86},{"localized_name":"voice_name","name":"voice_name","shape":7,"type":"COMBO","widget":{"name":"voice_name"},"link":null},{"localized_name":"sample_rate","name":"sample_rate","shape":7,"type":"INT","widget":{"name":"sample_rate"},"link":null},{"localized_name":"channels","name":"channels","shape":7,"type":"INT","widget":{"name":"channels"},"link":null}],"outputs":[{"localized_name":"context","name":"context","type":"*","links":[85]}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"ConfigGenerateSpeech"},"widgets_values":["Leda",24000,1]},{"id":64,"type":"LoadVideoFromPath","pos":[597.5796508789062,673.517333984375],"size":[319.8599548339844,186],"flags":{},"order":28,"mode":4,"inputs":[{"localized_name":"video_path","name":"video_path","type":"STRING","widget":{"name":"video_path"},"link":95},{"localized_name":"max_frames","name":"max_frames","shape":7,"type":"INT","widget":{"name":"max_frames"},"link":null},{"localized_name":"skip_frames","name":"skip_frames","shape":7,"type":"INT","widget":{"name":"skip_frames"},"link":null}],"outputs":[{"localized_name":"images","name":"images","type":"IMAGE","links":[96]},{"localized_name":"frame_count","name":"frame_count","type":"INT","links":null},{"localized_name":"fps","name":"fps","type":"FLOAT","links":null},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"LoadVideoFromPath"},"widgets_values":["",0,0]},{"id":65,"type":"VHS_VideoCombine","pos":[989.893798828125,579.4834594726562],"size":[214.7587890625,238],"flags":{},"order":36,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":96},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":null},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"a7ce59e381934733bfae03b1be029756d6ce936d","Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":16,"loop_count":0,"filename_prefix":"AnimateDiff","format":"image/gif","pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"AnimateDiff_00007.gif","subfolder":"","type":"output","format":"image/gif","frame_rate":16,"workflow":"AnimateDiff_00007.png","fullpath":"D:\\ComfyUI\\output\\AnimateDiff_00007.gif"}}}},{"id":57,"type":"PreviewAny","pos":[614.054931640625,941.2421264648438],"size":[232.24462890625,104.17790985107422],"flags":{},"order":29,"mode":4,"inputs":[{"localized_name":"source","name":"source","type":"*","link":97}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":56,"type":"GenerateVideo","pos":[93.27767181396484,771.4518432617188],"size":[400,200],"flags":{},"order":22,"mode":4,"inputs":[{"localized_name":"context","name":"context","shape":7,"type":"*","link":94},{"localized_name":"prompt","name":"prompt","type":"STRING","widget":{"name":"prompt"},"link":null}],"outputs":[{"localized_name":"context","name":"context","type":"*","links":null},{"localized_name":"video_paths","name":"video_paths","type":"STRING","links":[95,97]}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"GenerateVideo"},"widgets_values":["Create a short 3D animated scene in a joyful cartoon style. A cute creature with snow leopard-like fur, large expressive eyes, and a friendly, rounded form happily prances through a whimsical winter forest. The scene should feature rounded, snow-covered trees, gentle falling snowflakes, and warm sunlight filtering through the branches. The creature's bouncy movements and wide smile should convey pure delight. Aim for an upbeat, heartwarming tone with bright, cheerful colors and playful animation."]},{"id":63,"type":"ConfigGenerateVideo","pos":[98.43511199951172,474.3162536621094],"size":[400,208],"flags":{},"order":3,"mode":4,"inputs":[{"localized_name":"context","name":"context","shape":7,"type":"*","link":null},{"localized_name":"aspect_ratio","name":"aspect_ratio","shape":7,"type":"COMBO","widget":{"name":"aspect_ratio"},"link":null},{"localized_name":"person_generation","name":"person_generation","shape":7,"type":"COMBO","widget":{"name":"person_generation"},"link":null},{"localized_name":"number_of_videos","name":"number_of_videos","shape":7,"type":"INT","widget":{"name":"number_of_videos"},"link":null},{"localized_name":"duration_seconds","name":"duration_seconds","shape":7,"type":"INT","widget":{"name":"duration_seconds"},"link":null},{"localized_name":"negative_prompt","name":"negative_prompt","shape":7,"type":"STRING","widget":{"name":"negative_prompt"},"link":null},{"localized_name":"enhance_prompt","name":"enhance_prompt","shape":7,"type":"BOOLEAN","widget":{"name":"enhance_prompt"},"link":null}],"outputs":[{"localized_name":"context","name":"context","type":"*","links":[94]}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"ConfigGenerateVideo"},"widgets_values":["16:9","dont_allow",1,6,"",true]},{"id":58,"type":"PreviewAny","pos":[547.5302734375,246.66046142578125],"size":[210,88],"flags":{},"order":41,"mode":0,"inputs":[{"localized_name":"source","name":"source","type":"*","link":89}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":52,"type":"GenerateSpeech","pos":[111.68506622314453,189.0053253173828],"size":[400,200],"flags":{},"order":32,"mode":0,"inputs":[{"localized_name":"context","name":"context","shape":7,"type":"*","link":85},{"localized_name":"prompt","name":"prompt","type":"STRING","widget":{"name":"prompt"},"link":null}],"outputs":[{"localized_name":"context","name":"context","type":"*","links":null},{"localized_name":"audio_path","name":"audio_path","type":"STRING","links":[89,98]}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"GenerateSpeech"},"widgets_values":["Thou prepareth a table before me in the presence of my enemies; thou anointeth my head with oil; my cup runneth over"]},{"id":66,"type":"LoadAudioFromPath","pos":[533.1895141601562,61.1710205078125],"size":[260.1128845214844,64.90608215332031],"flags":{},"order":42,"mode":0,"inputs":[{"localized_name":"audio_path","name":"audio_path","type":"STRING","widget":{"name":"audio_path"},"link":98}],"outputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","links":[100]}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"LoadAudioFromPath"},"widgets_values":[""]},{"id":68,"type":"PreviewAudio","pos":[776.28369140625,203.43618774414062],"size":[270,88],"flags":{},"order":48,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":100},{"localized_name":"audioUI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"PreviewAudio"},"widgets_values":[]},{"id":34,"type":"PreviewImageLogic","pos":[-576.3865356445312,357.55816650390625],"size":[249.98202514648438,166],"flags":{},"order":34,"mode":4,"inputs":[{"localized_name":"image","name":"image","shape":7,"type":"IMAGE","link":60},{"localized_name":"save_image","name":"save_image","type":"BOOLEAN","widget":{"name":"save_image"},"link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":61},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":62},{"localized_name":"color","name":"color","type":"COLOR","widget":{"name":"color"},"link":null},{"localized_name":"file_name","name":"file_name","shape":7,"type":"STRING","widget":{"name":"file_name"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[64]}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"PreviewImageLogic"},"widgets_values":[false,1024,1024,"#FFFFFF","logic_preview"]},{"id":32,"type":"PreviewImage","pos":[-261.46051025390625,43.663997650146484],"size":[140,246],"flags":{},"order":43,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":59}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":36,"type":"PreviewImage","pos":[-244.14923095703125,364.154296875],"size":[140,246.00003051757812],"flags":{},"order":44,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":64}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":47,"type":"PlayRandomSound","pos":[-518.7498168945312,821.4710083007812],"size":[308.4439392089844,106],"flags":{},"order":35,"mode":4,"inputs":[{"localized_name":"any","name":"any","type":"*","link":81},{"localized_name":"mode","name":"mode","type":"COMBO","widget":{"name":"mode"},"link":null},{"localized_name":"volume","name":"volume","type":"FLOAT","widget":{"name":"volume"},"link":null},{"localized_name":"sound","name":"sound","type":"COMBO","widget":{"name":"sound"},"link":null}],"outputs":[],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"PlayRandomSound"},"widgets_values":["always",0.5,"LetsBegin.mp3"]},{"id":70,"type":"LLMToolkitTextGeneratorStream","pos":[2212.8017578125,-189.27120971679688],"size":[387.1130676269531,383.5382995605469],"flags":{},"order":40,"mode":4,"inputs":[{"localized_name":"context","name":"context","shape":7,"type":"*","link":101},{"localized_name":"llm_model","name":"llm_model","type":"COMBO","widget":{"name":"llm_model"},"link":null},{"localized_name":"prompt","name":"prompt","type":"STRING","widget":{"name":"prompt"},"link":null},{"localized_name":"hide_thinking","name":"hide_thinking","type":"BOOLEAN","widget":{"name":"hide_thinking"},"link":null}],"outputs":[{"localized_name":"context","name":"context","type":"*","links":null},{"localized_name":"text","name":"text","type":"STRING","links":null}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"LLMToolkitTextGeneratorStream"},"widgets_values":["gpt-4.1-mini","Write a detailed description of a futuristic city.",true,"Here's what's happening in each:\n\n*   **Image 1:** A seagull is wearing a virtual reality (VR) headset, with its beak sticking out of the front.\n*   **Image 2:** The character Link from the Legend of Zelda video game series is shown in a dynamic pose, holding his iconic Hylian Shield and a bow.\n*   **Video (Images 3-6):** A woman in a black dress is walking towards the camera in a professional white studio setting, likely for a photoshoot or video shoot, as indicated by the lighting equipment (softbox) on the right. She is posing and modeling the dress as she walks."]},{"id":75,"type":"GeminiProviderNode","pos":[2215.998291015625,-615.0181274414062],"size":[335.6441345214844,82],"flags":{},"order":4,"mode":4,"inputs":[{"localized_name":"context","name":"context","shape":7,"type":"*","link":null},{"localized_name":"llm_model","name":"llm_model","type":"COMBO","widget":{"name":"llm_model"},"link":null},{"localized_name":"external_api_key","name":"external_api_key","shape":7,"type":"STRING","widget":{"name":"external_api_key"},"link":null}],"outputs":[{"localized_name":"context","name":"context","type":"*","links":[105]}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"GeminiProviderNode"},"widgets_values":["gemini-2.5-flash-preview-05-20",""]},{"id":85,"type":"LoadImage","pos":[2078.4716796875,-2071.748046875],"size":[274.080078125,314],"flags":{},"order":5,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[127]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"LoadImage"},"widgets_values":["fd7f544d-86fb-41b1-90f4-c8c685b8bc12.jpg","image"]},{"id":89,"type":"LoadImage","pos":[2079.837158203125,-1703],"size":[274.080078125,314],"flags":{},"order":6,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[128]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"LoadImage"},"widgets_values":["comfydeploy_FAST_kontext_raw__00001_.png","image"]},{"id":95,"type":"MarkdownNote","pos":[238.63621520996094,-1824.6025390625],"size":[386.6929626464844,971.653564453125],"flags":{},"order":7,"mode":4,"inputs":[],"outputs":[],"title":"Flux Kontext Prompt Techniques","properties":{},"widgets_values":["\n## Flux Kontext Prompt Techniques\n\n### 1. Basic Modifications\n- Simple and direct: `\"Change the car color to red\"`\n- Maintain style: `\"Change to daytime while maintaining the same style of the painting\"`\n\n### 2. Style Transfer\n**Principles:**\n- Clearly name style: `\"Transform to Bauhaus art style\"`\n- Describe characteristics: `\"Transform to oil painting with visible brushstrokes, thick paint texture\"`\n- Preserve composition: `\"Change to Bauhaus style while maintaining the original composition\"`\n\n### 3. Character Consistency\n**Framework:**\n- Specific description: `\"The woman with short black hair\"` instead of \"she\"\n- Preserve features: `\"while maintaining the same facial features, hairstyle, and expression\"`\n- Step-by-step modifications: Change background first, then actions\n\n### 4. Text Editing\n- Use quotes: `\"Replace 'joy' with 'BFL'\"`\n- Maintain format: `\"Replace text while maintaining the same font style\"`\n\n## Common Problem Solutions\n\n### Character Changes Too Much\n‚ùå Wrong: `\"Transform the person into a Viking\"`\n‚úÖ Correct: `\"Change the clothes to be a viking warrior while preserving facial features\"`\n\n### Composition Position Changes\n‚ùå Wrong: `\"Put him on a beach\"`\n‚úÖ Correct: `\"Change the background to a beach while keeping the person in the exact same position, scale, and pose\"`\n\n### Style Application Inaccuracy\n‚ùå Wrong: `\"Make it a sketch\"`\n‚úÖ Correct: `\"Convert to pencil sketch with natural graphite lines, cross-hatching, and visible paper texture\"`\n\n## Core Principles\n\n1. **Be Specific and Clear** - Use precise descriptions, avoid vague terms\n2. **Step-by-step Editing** - Break complex modifications into multiple simple steps\n3. **Explicit Preservation** - State what should remain unchanged\n4. **Verb Selection** - Use \"change\", \"replace\" rather than \"transform\"\n\n## Best Practice Templates\n\n**Object Modification:**\n`\"Change [object] to [new state], keep [content to preserve] unchanged\"`\n\n**Style Transfer:**\n`\"Transform to [specific style], while maintaining [composition/character/other] unchanged\"`\n\n**Background Replacement:**\n`\"Change the background to [new background], keep the subject in the exact same position and pose\"`\n\n**Text Editing:**\n`\"Replace '[original text]' with '[new text]', maintain the same font style\"`\n\n> **Remember:** The more specific, the better. Kontext excels at understanding detailed instructions and maintaining consistency. "],"color":"#223","bgcolor":"#335"},{"id":96,"type":"ResolutionSelector","pos":[-188.2861328125,-525.2980346679688],"size":[301.4302673339844,126],"flags":{},"order":8,"mode":4,"inputs":[{"localized_name":"mode","name":"mode","type":"COMBO","widget":{"name":"mode"},"link":null},{"localized_name":"aspect_ratio","name":"aspect_ratio","type":"COMBO","widget":{"name":"aspect_ratio"},"link":null},{"localized_name":"quality","name":"quality","type":"COMBO","widget":{"name":"quality"},"link":null}],"outputs":[{"localized_name":"width","name":"width","type":"INT","links":[]},{"localized_name":"height","name":"height","type":"INT","links":[]}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"ResolutionSelector"},"widgets_values":["IMG","Squarish","MQ"],"color":"#232","bgcolor":"#353"},{"id":97,"type":"MarkdownNote","pos":[-190.90260314941406,-360.7779235839844],"size":[290.6106872558594,187.2473907470703],"flags":{},"order":9,"mode":4,"inputs":[],"outputs":[],"title":"SIZES","properties":{},"widgets_values":["\"IMG\": \n\n\"Horizontal\": \n\n\"HQ\": (1600, 900), \n\"MQ\": (1280, 720), \n\"LQ\": (1024, 576)},\n            \n\"Vertical\":   \n\"HQ\": (900, 1600), \n\"MQ\": (720, 1280), \n\"LQ\": (576, 1024)\n            \n\"Squarish\":   \n\"HQ\": (1600, 1600), \n\"MQ\": (1024, 1024), \n\"LQ\": (512, 512)\n            \n\"Cinematic\":  \n\"HQ\": (1600, 688), \n\"MQ\": (1280, 550), \n\"LQ\": (1024, 440), \n        \n"],"color":"#223","bgcolor":"#335"},{"id":98,"type":"Note","pos":[223.18994140625,-758.6727294921875],"size":[419.16943359375,275.8766784667969],"flags":{},"order":10,"mode":4,"inputs":[],"outputs":[],"title":"Guide","properties":{},"widgets_values":["\n1-. SELLECT SIZE\n\n2-.CONSTRUCT YOUR PROMPT \n\n3-.SELECT THE REFERENCES BY ENABLE/DISSABLE CONCEPTS IMAGES\n\n4-.PRESS RUN\n\nYOU CAN USE THIS WORKFLOW WITH UP tO THREE iMAGES DISSABLE THE gROUPS CONCEPTS YOU DON'T NEED \n\nConcept1-. FIRST IMAGE IS THE MAIN SUBJECT YOU WANT TO EDIT OR WORK FROM\n\nConcept2-. SECOND IS FOR A PROP OR COSTUME OR A STYLE YOU WANT TO REPLICATE\n\ndISSABLE CONCEPT2 GROUP TO USE ONLY ONE REFERENCE\nDISSABLE Background removal if you want to keep the bg information"],"color":"#232","bgcolor":"#353"},{"id":90,"type":"LLMToolkitProviderSelector","pos":[-661.4409790039062,-1874.8349609375],"size":[318.5337829589844,154],"flags":{},"order":11,"mode":4,"inputs":[{"localized_name":"context","name":"context","shape":7,"type":"*","link":null},{"localized_name":"llm_provider","name":"llm_provider","type":"COMBO","widget":{"name":"llm_provider"},"link":null},{"localized_name":"llm_model","name":"llm_model","type":"STRING","widget":{"name":"llm_model"},"link":null},{"localized_name":"base_ip","name":"base_ip","shape":7,"type":"STRING","widget":{"name":"base_ip"},"link":null},{"localized_name":"port","name":"port","shape":7,"type":"STRING","widget":{"name":"port"},"link":null},{"localized_name":"external_api_key","name":"external_api_key","shape":7,"type":"STRING","widget":{"name":"external_api_key"},"link":null}],"outputs":[{"localized_name":"context","name":"context","type":"*","links":[134]}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"LLMToolkitProviderSelector","llm_model":"No models found or Error"},"widgets_values":["ollama","No models found or Error","localhost","11434",""]},{"id":92,"type":"JoinStringMulti","pos":[-153.25515747070312,-1136.66162109375],"size":[270,150],"flags":{},"order":46,"mode":4,"inputs":[{"localized_name":"string_1","name":"string_1","type":"STRING","link":132},{"localized_name":"string_2","name":"string_2","type":"STRING","link":133},{"localized_name":"inputcount","name":"inputcount","type":"INT","widget":{"name":"inputcount"},"link":null},{"localized_name":"delimiter","name":"delimiter","type":"STRING","widget":{"name":"delimiter"},"link":null},{"localized_name":"return_list","name":"return_list","type":"BOOLEAN","widget":{"name":"return_list"},"link":null}],"outputs":[{"localized_name":"string","name":"string","type":"STRING","links":[]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"f9118e0bbb39347ea7becb84ec03e397dfb4f644","Node name for S&R":"JoinStringMulti"},"widgets_values":[2," ",false,null],"color":"#223","bgcolor":"#335"},{"id":82,"type":"GenerateImage","pos":[3042.914794921875,-1412.9212646484375],"size":[406.513671875,340],"flags":{},"order":50,"mode":4,"inputs":[{"localized_name":"context","name":"context","shape":7,"type":"*","link":123},{"localized_name":"prompt","name":"prompt","type":"STRING","widget":{"name":"prompt"},"link":null},{"localized_name":"mode","name":"mode","type":"COMBO","widget":{"name":"mode"},"link":null}],"outputs":[{"localized_name":"context","name":"context","type":"*","links":null},{"localized_name":"image","name":"image","type":"IMAGE","links":[117,118]}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"GenerateImage"},"widgets_values":["","edit"]},{"id":91,"type":"LLMToolkitTextGeneratorStream","pos":[-236.7391357421875,-1503.20263671875],"size":[447.3528747558594,310.99517822265625],"flags":{},"order":45,"mode":4,"inputs":[{"localized_name":"context","name":"context","shape":7,"type":"*","link":131},{"localized_name":"llm_model","name":"llm_model","type":"COMBO","widget":{"name":"llm_model"},"link":null},{"localized_name":"prompt","name":"prompt","type":"STRING","widget":{"name":"prompt"},"link":null},{"localized_name":"hide_thinking","name":"hide_thinking","type":"BOOLEAN","widget":{"name":"hide_thinking"},"link":null}],"outputs":[{"localized_name":"context","name":"context","type":"*","links":[]},{"localized_name":"text","name":"text","type":"STRING","links":[135]}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"LLMToolkitTextGeneratorStream"},"widgets_values":["gpt-4.1-mini","Write a detailed description of a futuristic city.","Create the character from Image 2 in a realistic style, using the muscular physique, detailed skin texture, and lifelike lighting from Image 1. Preserve the character's iconic green tunic, hat, brown boots, and leather belts with realistic fabric and leather textures. Maintain the original pose and sword-and-shield stance while converting facial features and hair to a natural human appearance, blending fantasy elements with the realism evident in Image 1.","Apply the gold and dark blue ornamental style from the right tile to the staff and accessories held or worn by the girl in the left tile, keeping her pose, facial features, and outfit fabric unchanged."],"color":"#223","bgcolor":"#335"},{"id":88,"type":"ImageResizeKJv2","pos":[2388.04443359375,-1705.3734130859375],"size":[270,266],"flags":{},"order":24,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":128},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":129},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":130},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"keep_proportion","name":"keep_proportion","type":"COMBO","widget":{"name":"keep_proportion"},"link":null},{"localized_name":"pad_color","name":"pad_color","type":"STRING","widget":{"name":"pad_color"},"link":null},{"localized_name":"crop_position","name":"crop_position","type":"COMBO","widget":{"name":"crop_position"},"link":null},{"localized_name":"divisible_by","name":"divisible_by","type":"INT","widget":{"name":"divisible_by"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[138]},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"f9118e0bbb39347ea7becb84ec03e397dfb4f644","Node name for S&R":"ImageResizeKJv2"},"widgets_values":[512,512,"nearest-exact","resize","0, 0, 0","center",2,"cpu"]},{"id":103,"type":"PreviewImage","pos":[855.7820434570312,-1390.7744140625],"size":[140,246],"flags":{},"order":37,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":141}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":93,"type":"PromptManager","pos":[-230.11474609375,-1858.966064453125],"size":[429.72283935546875,293.3409423828125],"flags":{},"order":38,"mode":4,"inputs":[{"localized_name":"context","name":"context","shape":7,"type":"*","link":134},{"localized_name":"image","name":"image","shape":7,"type":"IMAGE","link":142},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":null},{"localized_name":"video","name":"video","shape":7,"type":"IMAGE","link":null},{"localized_name":"text_prompt","name":"text_prompt","shape":7,"type":"STRING","widget":{"name":"text_prompt"},"link":null},{"localized_name":"audio_path","name":"audio_path","shape":7,"type":"STRING","widget":{"name":"audio_path"},"link":null},{"localized_name":"file_path","name":"file_path","shape":7,"type":"STRING","widget":{"name":"file_path"},"link":null},{"localized_name":"url","name":"url","shape":7,"type":"STRING","widget":{"name":"url"},"link":null}],"outputs":[{"localized_name":"context","name":"context","type":"*","links":[131,132]}],"properties":{"cnr_id":"llm-toolkit","ver":"3d82dbfe091d84868212e5f275deb5447fa4e659","Node name for S&R":"PromptManager","widget_ue_connectable":{}},"widgets_values":["üìè Ultra-Compact System Prompt ‚Äì Kontext Stitched-Image Editing\nRole: Produce one concise instruction for Kontext given:\n\nStitched input (largest tile = main image to edit; smaller tiles = references).\n\nTask type (one of: quick_edit ¬∑ style_transfer ¬∑ style_transform ¬∑ text_edit ¬∑ visual_cue).\n\nRules (87 tokens total)\n\npgsql\nCopy\nEdit\n‚Ä¢ Identify main subject in largest tile; keep pose, scale, identity.\n‚Ä¢ Use smaller tiles only as style/obj/background cues.\n‚Ä¢ For quick_edit ‚Üí name exact change + preserve rest.\n‚Ä¢ For style_transfer ‚Üí ‚Äúapply style of ref tile to ‚ü®area‚ü©, keep composition‚Äù.\n‚Ä¢ For style_transform ‚Üí describe new style traits, list what stays unchanged.\n‚Ä¢ For text_edit ‚Üí Replace 'old' with 'new', keep font/placement unless told.\n‚Ä¢ For visual_cue ‚Üí mention target region (‚Äúin the box‚Äù, ‚Äútop-left corner‚Äù).\n‚Ä¢ One or two sentences max,  ‚â§450 tokens, explicit nouns, no pronouns.\nOutput template:\n<instruction sentence(s)>\n\nExample (style_transfer):\n‚ÄúApply the watercolor style from the top-right tile to the entire scene while preserving the girl‚Äôs pose, facial features, and lighting.‚Äù","","",""],"color":"#223","bgcolor":"#335"},{"id":50,"type":"PreviewImage","pos":[3550.4931640625,-1148.466796875],"size":[140,246],"flags":{},"order":51,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":117}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":87,"type":"ImageResizeKJv2","pos":[2386.678955078125,-2074.12158203125],"size":[270,266],"flags":{},"order":23,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":127},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":125},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":126},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"keep_proportion","name":"keep_proportion","type":"COMBO","widget":{"name":"keep_proportion"},"link":null},{"localized_name":"pad_color","name":"pad_color","type":"STRING","widget":{"name":"pad_color"},"link":null},{"localized_name":"crop_position","name":"crop_position","type":"COMBO","widget":{"name":"crop_position"},"link":null},{"localized_name":"divisible_by","name":"divisible_by","type":"INT","widget":{"name":"divisible_by"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[137]},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"f9118e0bbb39347ea7becb84ec03e397dfb4f644","Node name for S&R":"ImageResizeKJv2"},"widgets_values":[512,512,"nearest-exact","resize","0, 0, 0","center",2,"cpu"]},{"id":81,"type":"PromptManager","pos":[3030.030029296875,-1952.1546630859375],"size":[400,220],"flags":{},"order":39,"mode":4,"inputs":[{"localized_name":"context","name":"context","shape":7,"type":"*","link":140},{"localized_name":"image","name":"image","shape":7,"type":"IMAGE","link":146},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":null},{"localized_name":"video","name":"video","shape":7,"type":"IMAGE","link":null},{"localized_name":"text_prompt","name":"text_prompt","shape":7,"type":"STRING","widget":{"name":"text_prompt"},"link":147},{"localized_name":"audio_path","name":"audio_path","shape":7,"type":"STRING","widget":{"name":"audio_path"},"link":null},{"localized_name":"file_path","name":"file_path","shape":7,"type":"STRING","widget":{"name":"file_path"},"link":null},{"localized_name":"url","name":"url","shape":7,"type":"STRING","widget":{"name":"url"},"link":null}],"outputs":[{"localized_name":"context","name":"context","type":"*","links":[121]}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"PromptManager"},"widgets_values":["","","",""]},{"id":99,"type":"Reroute","pos":[1267.6778564453125,-1932.8060302734375],"size":[75,26],"flags":{},"order":49,"mode":0,"inputs":[{"name":"","type":"*","link":135}],"outputs":[{"name":"","type":"STRING","links":[]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":101,"type":"ImageStitch","pos":[2686.39794921875,-2380.829345703125],"size":[270,150],"flags":{},"order":30,"mode":4,"inputs":[{"localized_name":"image1","name":"image1","type":"IMAGE","link":137},{"localized_name":"image2","name":"image2","shape":7,"type":"IMAGE","link":138},{"localized_name":"direction","name":"direction","type":"COMBO","widget":{"name":"direction"},"link":null},{"localized_name":"match_image_size","name":"match_image_size","type":"BOOLEAN","widget":{"name":"match_image_size"},"link":null},{"localized_name":"spacing_width","name":"spacing_width","type":"INT","widget":{"name":"spacing_width"},"link":null},{"localized_name":"spacing_color","name":"spacing_color","type":"COMBO","widget":{"name":"spacing_color"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[141,142,146]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"ImageStitch"},"widgets_values":["right",true,0,"white"]},{"id":51,"type":"SaveImage","pos":[3533.17578125,-1486.4923095703125],"size":[270,270],"flags":{},"order":52,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":118},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"]},{"id":102,"type":"BFLProviderNode","pos":[3039.613037109375,-2095.47265625],"size":[270,58],"flags":{},"order":12,"mode":4,"inputs":[{"localized_name":"context","name":"context","shape":7,"type":"*","link":null},{"localized_name":"llm_model","name":"llm_model","type":"STRING","widget":{"name":"llm_model"},"link":null}],"outputs":[{"localized_name":"context","name":"context","type":"*","links":[140]}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"BFLProviderNode"},"widgets_values":["flux-kontext-max"]},{"id":127,"type":"Note","pos":[3033.458740234375,-2289.675537109375],"size":[392.84893798828125,103.2160415649414],"flags":{},"order":13,"mode":4,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Optional set the machine secrets if you are using Comfy-Deploy\n\nBFL_API_KEY=<YOUR_API_KEY>\nSet the system environment variable or the .env file inside the root of llm-toolki custom node folder\n\n"],"color":"#432","bgcolor":"#653"},{"id":94,"type":"ComfyUIDeployExternalText","pos":[2391.3408203125,-1359.859619140625],"size":[395.5683898925781,190],"flags":{},"order":14,"mode":4,"inputs":[{"localized_name":"input_id","name":"input_id","type":"STRING","widget":{"name":"input_id"},"link":null},{"localized_name":"default_value","name":"default_value","shape":7,"type":"STRING","widget":{"name":"default_value"},"link":null},{"localized_name":"display_name","name":"display_name","shape":7,"type":"STRING","widget":{"name":"display_name"},"link":null},{"localized_name":"description","name":"description","shape":7,"type":"STRING","widget":{"name":"description"},"link":null}],"outputs":[{"localized_name":"text","name":"text","type":"STRING","links":[133,147]}],"title":"PROMPT","properties":{"cnr_id":"comfyui-deploy","ver":"b889f79baf9e099d5e54bd20bab4aa1e7c3296c0","Node name for S&R":"ComfyUIDeployExternalText","widget_ue_connectable":{}},"widgets_values":["ACTION_MANUAL_PROMPT","the girl is holding the staff on her right hand while carrying the book under her arm","MANUA_PROMPT ","IF there is no OPENAI_API_KEY on the machine secrets. You will need to enter your full prompt and delete the AI_SYSTEM_PROMPT  \n\nOtherwise you can use this to add a The Task to be preform by the model for example \"replace the cat from image1 with the dog on image2\" \n\nshe is wearing the same clothes but it has the logo on the swimsuit make sure it looks well integrated and part of the same material with the fabric and not just an overlay the logo should wrap with the swinsuit to the body of the model "],"color":"#232","bgcolor":"#353"},{"id":84,"type":"ConfigGenerateImageBFL","pos":[3034.32421875,-1660.132080078125],"size":[394.8091735839844,178],"flags":{},"order":47,"mode":4,"inputs":[{"localized_name":"context","name":"context","shape":7,"type":"*","link":121},{"localized_name":"aspect_ratio","name":"aspect_ratio","shape":7,"type":"COMBO","widget":{"name":"aspect_ratio"},"link":null},{"localized_name":"prompt_upsampling","name":"prompt_upsampling","shape":7,"type":"BOOLEAN","widget":{"name":"prompt_upsampling"},"link":null},{"localized_name":"safety_tolerance","name":"safety_tolerance","shape":7,"type":"INT","widget":{"name":"safety_tolerance"},"link":null},{"localized_name":"output_format","name":"output_format","shape":7,"type":"COMBO","widget":{"name":"output_format"},"link":null},{"localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"localized_name":"context","name":"context","type":"*","links":[123]}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"ConfigGenerateImageBFL"},"widgets_values":["9:16",true,6,"png",643617556490286,"randomize"]},{"id":69,"type":"ResolutionSelector","pos":[2041.1431884765625,-2261.8232421875],"size":[301.4302673339844,126],"flags":{},"order":15,"mode":4,"inputs":[{"localized_name":"mode","name":"mode","type":"COMBO","widget":{"name":"mode"},"link":null},{"localized_name":"aspect_ratio","name":"aspect_ratio","type":"COMBO","widget":{"name":"aspect_ratio"},"link":null},{"localized_name":"quality","name":"quality","type":"COMBO","widget":{"name":"quality"},"link":null}],"outputs":[{"localized_name":"width","name":"width","type":"INT","links":[125,129]},{"localized_name":"height","name":"height","type":"INT","links":[126,130]}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"ResolutionSelector"},"widgets_values":["I2V720p","Vertical","HQ"]},{"id":76,"type":"VHS_LoadVideo","pos":[1929.9559326171875,-589.5252075195312],"size":[247.455078125,452.2566223144531],"flags":{},"order":16,"mode":4,"inputs":[{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"video","name":"video","type":"COMBO","widget":{"name":"video"},"link":null},{"localized_name":"force_rate","name":"force_rate","type":"FLOAT","widget":{"name":"force_rate"},"link":null},{"localized_name":"custom_width","name":"custom_width","type":"INT","widget":{"name":"custom_width"},"link":null},{"localized_name":"custom_height","name":"custom_height","type":"INT","widget":{"name":"custom_height"},"link":null},{"localized_name":"frame_load_cap","name":"frame_load_cap","type":"INT","widget":{"name":"frame_load_cap"},"link":null},{"localized_name":"skip_first_frames","name":"skip_first_frames","type":"INT","widget":{"name":"skip_first_frames"},"link":null},{"localized_name":"select_every_nth","name":"select_every_nth","type":"INT","widget":{"name":"select_every_nth"},"link":null},{"localized_name":"format","name":"format","shape":7,"type":"COMBO","widget":{"name":"format"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[107]},{"localized_name":"frame_count","name":"frame_count","type":"INT","links":null},{"localized_name":"audio","name":"audio","type":"AUDIO","links":null},{"localized_name":"video_info","name":"video_info","type":"VHS_VIDEOINFO","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"a7ce59e381934733bfae03b1be029756d6ce936d","Node name for S&R":"VHS_LoadVideo"},"widgets_values":{"video":"15731089-hd_1280_720_60fps.mp4","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1,"format":"AnimateDiff","choose video to upload":"image","videopreview":{"hidden":false,"paused":false,"params":{"filename":"15731089-hd_1280_720_60fps.mp4","type":"input","format":"video/mp4","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1}}}},{"id":72,"type":"LoadImage","pos":[1545.629638671875,-339.4301452636719],"size":[274.080078125,314],"flags":{},"order":17,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[199]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"LoadImage"},"widgets_values":["021f1e377b183ea541ab0d61d7fb3b77.jpg","image"]},{"id":73,"type":"LoadImage","pos":[1554.7078857421875,-721.8197021484375],"size":[274.080078125,314],"flags":{},"order":18,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[198]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"LoadImage"},"widgets_values":["0dcaac28f7eb6787960f95f15dd7bdd7f7ee7616-1347x752 (1).webp","image"]},{"id":74,"type":"ImageBatch","pos":[1985.8912353515625,-767.5820922851562],"size":[140,46],"flags":{},"order":25,"mode":4,"inputs":[{"localized_name":"image1","name":"image1","type":"IMAGE","link":198},{"localized_name":"image2","name":"image2","type":"IMAGE","link":199}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[200]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"ImageBatch"},"widgets_values":[]},{"id":71,"type":"PromptManager","pos":[2211.857666015625,-481.0108337402344],"size":[400,220],"flags":{},"order":31,"mode":4,"inputs":[{"localized_name":"context","name":"context","shape":7,"type":"*","link":105},{"localized_name":"image","name":"image","shape":7,"type":"IMAGE","link":200},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":null},{"localized_name":"video","name":"video","shape":7,"type":"IMAGE","link":107},{"localized_name":"text_prompt","name":"text_prompt","shape":7,"type":"STRING","widget":{"name":"text_prompt"},"link":null},{"localized_name":"audio_path","name":"audio_path","shape":7,"type":"STRING","widget":{"name":"audio_path"},"link":null},{"localized_name":"file_path","name":"file_path","shape":7,"type":"STRING","widget":{"name":"file_path"},"link":null},{"localized_name":"url","name":"url","shape":7,"type":"STRING","widget":{"name":"url"},"link":null}],"outputs":[{"localized_name":"context","name":"context","type":"*","links":[101]}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"PromptManager"},"widgets_values":["what is happening on the video and each image","","",""]},{"id":131,"type":"Note","pos":[599.8431396484375,-130.13021850585938],"size":[363.4027404785156,140.74798583984375],"flags":{},"order":19,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Optional set the machine secrets if you are using Comfy-Deploy\n\nGEMINI_API_KEY=<YOUR_API_KEY>\nSet the system environment variable or the .env file inside the root of llm-toolki custom node folder ore set the external api key "],"color":"#432","bgcolor":"#653"},{"id":48,"type":"GeminiProviderNode","pos":[130.00057983398438,-144.3009490966797],"size":[335.6441345214844,82],"flags":{},"order":20,"mode":0,"inputs":[{"localized_name":"context","name":"context","shape":7,"type":"*","link":null},{"localized_name":"llm_model","name":"llm_model","type":"COMBO","widget":{"name":"llm_model"},"link":null},{"localized_name":"external_api_key","name":"external_api_key","shape":7,"type":"STRING","widget":{"name":"external_api_key"},"link":null}],"outputs":[{"localized_name":"context","name":"context","type":"*","links":[86]}],"properties":{"cnr_id":"llm-toolkit","ver":"1.0.2","Node name for S&R":"GeminiProviderNode"},"widgets_values":["gemini-2.5-flash-preview-tts",""]}],"links":[[22,12,0,16,0,"IMAGE"],[26,12,0,21,0,"*"],[30,16,0,21,1,"BOOLEAN"],[56,21,0,33,0,"IMAGE"],[57,23,0,33,2,"INT"],[58,23,1,33,3,"INT"],[59,33,0,32,0,"IMAGE"],[60,21,1,34,0,"IMAGE"],[61,23,0,34,2,"INT"],[62,23,1,34,3,"INT"],[64,34,0,36,0,"IMAGE"],[81,21,1,47,0,"*"],[85,53,0,52,0,"*"],[86,48,0,53,0,"*"],[89,52,1,58,0,"*"],[94,63,0,56,0,"*"],[95,56,1,64,0,"STRING"],[96,64,0,65,0,"IMAGE"],[97,56,1,57,0,"*"],[98,52,1,66,0,"STRING"],[100,66,0,68,0,"AUDIO"],[101,71,0,70,0,"*"],[105,75,0,71,0,"*"],[107,76,0,71,3,"IMAGE"],[117,82,1,50,0,"IMAGE"],[118,82,1,51,0,"IMAGE"],[121,81,0,84,0,"*"],[123,84,0,82,0,"*"],[125,69,0,87,1,"INT"],[126,69,1,87,2,"INT"],[127,85,0,87,0,"IMAGE"],[128,89,0,88,0,"IMAGE"],[129,69,0,88,1,"INT"],[130,69,1,88,2,"INT"],[131,93,0,91,0,"*"],[132,93,0,92,0,"STRING"],[133,94,0,92,1,"STRING"],[134,90,0,93,0,"*"],[135,91,1,99,0,"*"],[137,87,0,101,0,"IMAGE"],[138,88,0,101,1,"IMAGE"],[140,102,0,81,0,"*"],[141,101,0,103,0,"IMAGE"],[142,101,0,93,1,"IMAGE"],[146,101,0,81,1,"IMAGE"],[147,94,0,81,4,"STRING"],[198,73,0,74,0,"IMAGE"],[199,72,0,74,1,"IMAGE"],[200,74,0,71,1,"IMAGE"]],"groups":[{"id":1,"title":"PROMPT","bounding":[-247.1424560546875,-1984.1024169921875,468.9275817871094,1154.965087890625],"color":"#88A","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":1.1966936555892058,"offset":[-47.352028785357774,278.17534881147384]}},"version":0.4}